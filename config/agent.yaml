agent:
  name: "AutonomousCodeBuilder"
  version: "1.0.0"

  execution:
    max_iterations: 50
    timeout_seconds: 300
    retry_attempts: 3

  models:
    # Multi-tier model configuration
    default: "claude-opus-4-6"      # Architect - complex planning & orchestration
    subagent: "claude-sonnet-4-5"   # Workers - implementation tasks
    chat: "claude-haiku-4-5"        # Chat - simple conversations
    intent: "claude-haiku-4-5"      # Intent parsing - lightweight NLP

  safety:
    max_file_size_mb: 10
    allow_sudo: true  # Enable limited sudo access
    allowed_sudo_commands:
      # Package management
      - sudo yum install
      - sudo yum update
      - sudo yum remove
      - sudo apt-get install
      - sudo apt-get update
      - sudo apt install
      - sudo apt update
      - sudo pip install
      # Service management
      - sudo systemctl restart claude-agent
      - sudo systemctl status
      # Firewall
      - sudo firewall-cmd
      # Logs
      - sudo journalctl
    allowed_commands:
      - npm
      - pip
      - git
      - python
      - pytest
      - node
      - bash
      - w3m
      - chromium
      - chromium-browser
    blocked_commands:
      - rm -rf /
      - sudo rm
      - sudo shutdown
      - sudo reboot
      - sudo poweroff
      - sudo halt
      - format
      - mkfs
      - dd if=/dev/zero
      - sudo dd

brain:
  vector_db:
    type: "chromadb"
    collection_name: "agent_memory"
    embedding_model: "all-MiniLM-L6-v2"

  memory:
    max_context_tokens: 180000
    auto_summarize: true
    retention_days: 90

tools:
  enabled:
    - bash
    - file
    - web
    - browser

monitoring:
  telegram:
    enabled: true
    send_progress_updates: true
    send_errors: true

  dashboard:
    enabled: true
    host: "0.0.0.0"
    port: 18789

local_model:
  # Local model configuration (optional, runs on CPU)
  # Useful for simple tasks with no rate limits or costs
  enabled: false  # Set to true to enable local model
  name: "nvidia/personaplex-7b-v1"  # Hugging Face model
  endpoint: null  # e.g., "http://localhost:8000" if using vLLM/Ollama server
  use_for: "chat,intent"  # Comma-separated: chat, intent, simple_tasks

  # Performance settings
  max_tokens: 512
  temperature: 0.7
  device: "cpu"  # cpu or cuda

auto_update:
  enabled: true
  schedule: "daily"  # daily, weekly, or cron syntax
  security_only: true  # Only update packages with security vulnerabilities
  notify_telegram: true  # Send Telegram notifications about updates
  auto_restart: true  # Restart agent after applying updates

  packages:
    system: true  # Update system packages (yum/apt)
    python: true  # Update Python packages (pip)

  vulnerability_scanning:
    enabled: true
    tools:
      - pip-audit  # Primary scanner
      - safety  # Fallback scanner
